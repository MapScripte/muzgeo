<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ú—É–∑—ã–∫–∞–ª—ã –ì–µ–æ–≥—Ä–∞—Ñ–∏—è - Neon Edition</title>
    <style>
        :root {
            --bg: #020617;
            --neon-blue: #00f3ff;
            --neon-green: #39ff14;
            --neon-red: #ff3131;
            --card-glass: rgba(15, 23, 42, 0.7);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body, html {
            margin: 0; padding: 0; 
            width: 100%; height: 100%;
            overflow: hidden;
            background: var(--bg);
            background-image: linear-gradient(rgba(2, 6, 23, 0.8), rgba(2, 6, 23, 0.8)), 
                              url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            font-family: 'Segoe UI', system-ui, sans-serif;
            color: white;
        }

        /* --- –ö”®–ü–¢“Æ–°–¢–Ü –ù–ï–û–ù –ù–û–¢–ê–õ–ê–† (–ë–Ü–†–î–ï–ù –®–´“í–£–´ “Æ–®–Ü–ù) --- */
        .neon-note {
            position: absolute;
            color: var(--neon-blue);
            font-size: 2.2rem;
            text-shadow: 0 0 15px var(--neon-blue);
            opacity: 0.5;
            animation: float 12s linear infinite;
            z-index: 0;
            pointer-events: none;
        }

        @keyframes float {
            0% { transform: translateY(110vh) rotate(0deg); }
            100% { transform: translateY(-15vh) rotate(360deg); }
        }

        /* --- –ë–ê–°–¢–ê–£ –≠–ö–†–ê–ù–´ --- */
        #start-screen {
            position: fixed; inset: 0;
            background: rgba(2, 6, 23, 0.96);
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            z-index: 5000;
            text-align: center;
            backdrop-filter: blur(20px);
        }

        .start-logo {
            font-size: 3.8rem; font-weight: 900;
            color: var(--neon-blue);
            text-shadow: 0 0 20px var(--neon-blue), 0 0 40px var(--neon-blue);
            margin-bottom: 10px;
            letter-spacing: 4px;
            position: relative; z-index: 5001;
        }

        /* --- –û–ô–´–ù –ê–õ–ê“¢–´ --- */
        .container {
            display: flex; flex-direction: column;
            height: 100vh; padding: 15px;
            position: relative; z-index: 1;
        }

        .header {
            height: 12%; display: grid;
            grid-template-columns: repeat(3, 1fr); gap: 10px;
            margin-bottom: 10px;
        }

        .stat-item {
            background: var(--card-glass);
            border-radius: 12px; border: 1px solid var(--neon-blue);
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.2);
        }

        .stat-label { font-size: 0.65rem; color: var(--neon-blue); text-transform: uppercase; }
        .stat-value { font-size: 1.4rem; font-weight: bold; text-shadow: 0 0 10px var(--neon-blue); }

        /* --- –≠–ö–í–ê–õ–ê–ô–ó–ï–† --- */
        .music-indicator { display: flex; align-items: flex-end; gap: 4px; height: 35px; }
        .bar { width: 5px; height: 5px; background: var(--neon-blue); border-radius: 2px; transition: 0.3s; }
        .playing .bar { animation: bounce 0.6s ease-in-out infinite alternate; }
        .playing .bar:nth-child(1) { animation-delay: 0.1s; }
        .playing .bar:nth-child(2) { animation-delay: 0.3s; }
        .playing .bar:nth-child(3) { animation-delay: 0.2s; }
        .playing .bar:nth-child(4) { animation-delay: 0.4s; }

        @keyframes bounce { 0% { height: 5px; opacity: 0.5; } 100% { height: 30px; box-shadow: 0 0 15px var(--neon-blue); opacity: 1; } }

        /* --- –ö–ê–†–¢–ê --- */
        .map-wrapper {
            flex-grow: 1; border-radius: 20px;
            border: 1px solid rgba(0, 243, 255, 0.3);
            background: rgba(15, 23, 42, 0.5);
            display: flex; align-items: center; justify-content: center;
            position: relative; overflow: hidden;
        }

        svg { width: 100%; height: 100%; max-width: 1050px; }

        .continent {
            fill: rgba(51, 65, 85, 0.3);
            stroke: var(--neon-blue); stroke-width: 1.5;
            cursor: pointer; transition: 0.4s;
            filter: drop-shadow(0 0 3px var(--neon-blue));
        }

        .continent:hover { fill: rgba(0, 243, 255, 0.2); stroke-width: 2.5; filter: drop-shadow(0 0 10px var(--neon-blue)); }

        .flash-success { animation: neon-green 0.6s 3; }
        .flash-error { animation: neon-red 0.6s 3; }

        @keyframes neon-green { 50% { fill: var(--neon-green); stroke: var(--neon-green); filter: drop-shadow(0 0 25px var(--neon-green)); } }
        @keyframes neon-red { 50% { fill: var(--neon-red); stroke: var(--neon-red); filter: drop-shadow(0 0 25px var(--neon-red)); } }

        /* --- –ë–ê–¢–´–†–ú–ê–õ–ê–† --- */
        .btn-neon {
            background: transparent; color: var(--neon-blue);
            border: 2px solid var(--neon-blue);
            padding: 15px 45px; border-radius: 50px;
            font-weight: bold; cursor: pointer;
            text-transform: uppercase; letter-spacing: 2px;
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.3);
            transition: 0.3s;
            position: relative; z-index: 5001;
        }

        .btn-neon:hover { background: var(--neon-blue); color: black; box-shadow: 0 0 35px var(--neon-blue); }

        .modal-bg { position: fixed; inset: 0; background: rgba(0,0,0,0.92); display: none; align-items: center; justify-content: center; z-index: 6000; }
        .modal-box { background: #0f172a; border: 2px solid var(--neon-blue); padding: 35px; border-radius: 30px; text-align: center; width: 85%; max-width: 420px; }
        
        .sidebar { position: fixed; right: 0; top: 0; bottom: 0; width: 350px; background: rgba(2, 6, 23, 0.98); border-left: 3px solid var(--neon-blue); padding: 30px; transform: translateX(100%); transition: 0.4s; z-index: 7000; }
        .sidebar.active { transform: translateX(0); }
    </style>
</head>
<body>

<div id="start-screen">
    <div class="neon-note" style="left:5%; animation-delay: -2s;">‚ô™</div>
    <div class="neon-note" style="left:15%; animation-delay: -8s;">‚ô´</div>
    <div class="neon-note" style="left:25%; animation-delay: -4s;">‚ô¨</div>
    <div class="neon-note" style="left:35%; animation-delay: -10s;">‚ô©</div>
    <div class="neon-note" style="left:45%; animation-delay: -1s;">‚ô™</div>
    <div class="neon-note" style="left:55%; animation-delay: -6s;">‚ô´</div>
    <div class="neon-note" style="left:65%; animation-delay: -3s;">‚ô¨</div>
    <div class="neon-note" style="left:75%; animation-delay: -9s;">‚ô©</div>
    <div class="neon-note" style="left:85%; animation-delay: -5s;">‚ô™</div>
    <div class="neon-note" style="left:95%; animation-delay: -7s;">‚ô´</div>
    <div class="neon-note" style="left:50%; animation-delay: -11s;">‚ô¨</div>
    <div class="neon-note" style="left:20%; animation-delay: -1.5s;">‚ô©</div>
    <div class="neon-note" style="left:80%; animation-delay: -4.5s;">‚ô™</div>
    <div class="neon-note" style="left:10%; animation-delay: -10.5s;">‚ô´</div>
    
    <div class="start-logo">–ú–£–ó–´–ö–ê–õ–´ –ì–ï–û–ì–†–ê–§–ò–Ø</div>
    <p style="color: #94a3b8; margin-bottom: 35px; font-size: 1.1rem; position: relative; z-index: 5001;">–ú–∞—Ç–µ—Ä–∏–∫—Ç–µ—Ä ”ô—É–µ–Ω—ñ–Ω —Ç–∞–Ω—ã–ø, ”ô–ª–µ–º–¥—ñ –∑–µ—Ä—Ç—Ç–µ!</p>
    <button class="btn-neon" onclick="startGame()">–û–ô–´–ù–î–´ –ë–ê–°–¢–ê–£</button>
</div>

<div class="container">
    <div class="header">
        <div class="stat-item"><span class="stat-label">–î–µ“£–≥–µ–π</span><span id="ui-round" class="stat-value">1/6</span></div>
        <div class="stat-item"><span class="stat-label">–¢–∞–π–º–µ—Ä</span><span id="ui-timer" class="stat-value">60</span></div>
        <div class="stat-item"><span class="stat-label">“∞–ø–∞–π</span><span id="ui-score" class="stat-value">0</span></div>
    </div>

    <div class="map-wrapper">
        <svg viewBox="0 0 1000 500">
            <path id="NorthAmerica" class="continent" d="M117,68 L142,42 L230,22 L360,30 L400,100 L420,180 L320,240 L180,240 L100,180 Z" />
            <path id="SouthAmerica" class="continent" d="M280,255 L380,255 L400,320 L350,480 L280,490 L220,380 L230,270 Z" />
            <path id="Eurasia" class="continent" d="M440,50 L600,20 L900,25 L980,100 L950,250 L800,280 L650,290 L500,250 L420,150 Z" />
            <path id="Africa" class="continent" d="M440,180 L580,180 L630,300 L580,440 L480,450 L400,350 L410,220 Z" />
            <path id="Australia" class="continent" d="M780,310 L920,310 L950,400 L880,450 L780,420 Z" />
            <path id="Antarctica" class="continent" d="M100,485 L900,485 L850,498 L150,498 Z" />
            
            <g fill="white" font-size="12" font-weight="bold" opacity="0.6" style="pointer-events:none;">
                <text x="160" y="140">–°–û–õ–¢“Æ–°–¢–Ü–ö –ê–ú–ï–†–ò–ö–ê</text>
                <text x="650" y="130">–ï–£–†–ê–ó–ò–Ø</text>
                <text x="250" y="380">–û“¢–¢“Æ–°–¢–Ü–ö –ê–ú–ï–†–ò–ö–ê</text>
                <text x="480" y="320">–ê–§–†–ò–ö–ê</text>
                <text x="820" y="380">–ê–í–°–¢–†–ê–õ–ò–Ø</text>
                <text x="440" y="493">–ê–ù–¢–ê–†–ö–¢–ò–î–ê</text>
            </g>
        </svg>
    </div>

    <div class="controls">
        <div id="equalizer" class="music-indicator">
            <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
        </div>
        <button class="btn-neon" id="btn-play" onclick="toggleMusic()" style="margin-top: 15px;">‚ñ∂ –¢–´“¢–î–ê–£</button>
    </div>
</div>

<div class="modal-bg" id="modal-game">
    <div class="modal-box">
        <h2 id="modal-title" style="color:var(--neon-blue)"></h2>
        <p id="modal-text" style="color: #cbd5e1; font-size: 1.1rem;"></p>
        <button class="btn-neon" style="width:100%; margin-top:20px;" onclick="nextStep()">–ñ–ê–õ“í–ê–°–¢–´–†–£</button>
    </div>
</div>

<div class="sidebar" id="sidebar">
    <button style="background:none; border:none; color:var(--neon-blue); font-size:2rem; cursor:pointer;" onclick="toggleSidebar(false)">‚úï</button>
    <h2 id="side-title" style="color:var(--neon-blue)"></h2>
    <div id="side-content" style="margin-top:20px; color:#cbd5e1; line-height:1.6"></div>
</div>

<audio id="audio-main"></audio>
<audio id="audio-sfx"></audio>

<script>
    const continentData = {
        Eurasia: { name: "–ï–≤—Ä–∞–∑–∏—è", music: "audio/eurasia.mp3", info: "<b>–ï–≤—Ä–∞–∑–∏—è</b> ‚Äî –µ“£ “Ø–ª–∫–µ–Ω –º–∞—Ç–µ—Ä–∏–∫. –û–Ω–¥–∞ ”ô–ª–µ–º–¥–µ–≥—ñ –µ“£ –±–∏—ñ–∫ —à—ã“£ - –≠–≤–µ—Ä–µ—Å—Ç –æ—Ä–Ω–∞–ª–∞—Å“õ–∞–Ω." },
        Africa: { name: "–ê—Ñ—Ä–∏–∫–∞", music: "audio/africa.mp3", info: "<b>–ê—Ñ—Ä–∏–∫–∞</b> ‚Äî –µ“£ —ã—Å—Ç—ã“õ –º–∞—Ç–µ—Ä–∏–∫. –°–∞—Ö–∞—Ä–∞ —à”©–ª—ñ –º–µ–Ω –ù—ñ–ª ”©–∑–µ–Ω—ñ –æ—Å—ã –∂–µ—Ä–¥–µ." },
        NorthAmerica: { name: "–°–æ–ª—Ç“Ø—Å—Ç—ñ–∫ –ê–º–µ—Ä–∏–∫–∞", music: "audio/north_america.mp3", info: "<b>–°–æ–ª—Ç“Ø—Å—Ç—ñ–∫ –ê–º–µ—Ä–∏–∫–∞</b> ‚Äî “Ø–ª–∫–µ–Ω –∫”©–ª–¥–µ—Ä –º–µ–Ω –∫–∞–Ω—å–æ–Ω–¥–∞—Ä –µ–ª—ñ." },
        SouthAmerica: { name: "–û“£—Ç“Ø—Å—Ç—ñ–∫ –ê–º–µ—Ä–∏–∫–∞", music: "audio/south_america.mp3", info: "<b>–û“£—Ç“Ø—Å—Ç—ñ–∫ –ê–º–µ—Ä–∏–∫–∞</b> ‚Äî –ê–º–∞–∑–æ–Ω–∫–∞ –æ—Ä–º–∞–Ω–¥–∞—Ä—ã –º–µ–Ω –ê–Ω–¥ —Ç–∞—É–ª–∞—Ä—ã–Ω—ã“£ –æ—Ç–∞–Ω—ã." },
        Australia: { name: "–ê–≤—Å—Ç—Ä–∞–ª–∏—è", music: "audio/australia.mp3", info: "<b>–ê–≤—Å—Ç—Ä–∞–ª–∏—è</b> ‚Äî –µ“£ –∫—ñ—à—ñ ”ô—Ä—ñ –µ“£ –æ“õ—à–∞—É –º–∞—Ç–µ—Ä–∏–∫." },
        Antarctica: { name: "Antarctica", music: "audio/antarctica.mp3", info: "<b>–ê–Ω—Ç–∞—Ä–∫—Ç–∏–¥–∞</b> ‚Äî –º”ô“£–≥—ñ–ª—ñ–∫ –º“±–∑ “õ“±—Ä—Å–∞—É—ã–Ω–¥–∞“ì—ã –º–∞—Ç–µ—Ä–∏–∫." }
    };

    let round = 1, score = 0, timer = 60, timerInt, currentKey = "", gameState = "quiz";
    const audio = document.getElementById('audio-main');
    const eq = document.getElementById('equalizer');
    const playBtn = document.getElementById('btn-play');

    function startGame() {
        document.getElementById('start-screen').style.display = 'none';
        initRound();
    }

    function initRound() {
        if(round > 6) { endGame(); return; }
        currentKey = Object.keys(continentData)[round - 1];
        audio.src = continentData[currentKey].music;
        document.getElementById('ui-round').innerText = `${round}/6`;
        resetPlayButton();
        startTimer();
    }

    function resetPlayButton() {
        audio.pause();
        eq.classList.remove('playing');
        playBtn.innerText = "‚ñ∂ –¢–´“¢–î–ê–£";
    }

    function startTimer() {
        clearInterval(timerInt);
        timer = 60;
        document.getElementById('ui-timer').innerText = timer;
        timerInt = setInterval(() => {
            timer--;
            document.getElementById('ui-timer').innerText = timer;
            if(timer <= 0) { clearInterval(timerInt); checkResult('none'); }
        }, 1000);
    }

    function toggleMusic() {
        if (audio.paused) {
            audio.play().catch(e => console.log("–§–∞–π–ª–¥—ã —Ç–µ–∫—Å–µ—Ä—ñ“£—ñ–∑"));
            eq.classList.add('playing');
            playBtn.innerText = "|| –¢–û“ö–¢–ê–¢–£";
        } else {
            audio.pause();
            eq.classList.remove('playing');
            playBtn.innerText = "‚ñ∂ –¢–´“¢–î–ê–£";
        }
    }

    audio.onended = () => resetPlayButton();

    document.querySelectorAll('.continent').forEach(p => {
        p.onclick = () => {
            if(gameState === "quiz") checkResult(p.id);
            else showInfo(p.id);
        };
    });

    function checkResult(id) {
        clearInterval(timerInt);
        resetPlayButton();
        const correct = currentKey;
        if(id === correct) {
            score += 10;
            document.getElementById('ui-score').innerText = score;
            document.getElementById(correct).classList.add('flash-success');
            playSFX("audio/correct.mp3");
            showModal("–ñ–ê–†–ê–ô–°–´“¢! ‚úÖ", `–ë“±–ª - ${continentData[correct].name}!`);
        } else {
            document.getElementById(correct).classList.add('flash-error');
            playSFX("audio/wrong.mp3");
            showModal("“ö–ê–¢–ï! ‚ùå", `–ë“±–ª ${continentData[correct].name} –µ–¥—ñ.`);
        }
    }

    function showModal(t, txt) {
        document.getElementById('modal-title').innerText = t;
        document.getElementById('modal-text').innerText = txt;
        document.getElementById('modal-game').style.display = "flex";
    }

    function nextStep() {
        document.getElementById('modal-game').style.display = "none";
        document.querySelectorAll('.continent').forEach(c => c.classList.remove('flash-success', 'flash-error'));
        if(gameState === "quiz") { round++; initRound(); }
    }

    function endGame() {
        gameState = "explore";
        playBtn.style.display = "none";
        eq.style.display = "none";
        showModal("–û–ô–´–ù –ê–Ø“ö–¢–ê–õ–î–´! üéâ", `“∞–ø–∞–π—ã“£—ã–∑: ${score}. –ï–Ω–¥—ñ –º–∞—Ç–µ—Ä–∏–∫—Ç–µ—Ä–¥—ñ –∑–µ—Ä—Ç—Ç–µ–π –∞–ª–∞—Å—ã–∑.`);
    }

    function showInfo(id) {
        const info = continentData[id];
        document.getElementById('side-title').innerText = info.name;
        document.getElementById('side-content').innerHTML = info.info;
        toggleSidebar(true);
    }

    function toggleSidebar(s) { document.getElementById('sidebar').classList.toggle('active', s); }
    function playSFX(s) { const a = document.getElementById('audio-sfx'); a.src = s; a.play().catch(e=>{}); }
</script>
</body>
</html>